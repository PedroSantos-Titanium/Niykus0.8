<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Match Made in Heaven by Chance</title>
  <link rel="stylesheet" href="style.css">
  <!-- Link para o Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    /* Estilo para o bot√£o de voltar ao topo */
    #back-to-top {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: #8a2be2; /* Cor roxa */
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      display: none; /* Inicialmente invis√≠vel */
      z-index: 1000;
      transition: opacity 0.3s ease;
    }

    #back-to-top:hover {
      background-color: #6a1b9a; /* Cor roxa mais escura no hover */
    }

    /* √çcone da seta */
    #back-to-top i {
      margin: 0;
    }
  </style>
</head>
<body>
    <!-- Mini avatar com mensagens -->
<div class="avatar-container">
    <div class="avatar">
      <img src="images/avatar.png" alt="Avatar">
    </div>
    <div class="message">
      <p class="message-text">Voc√™ est√° lendo "Match Made in Heaven by Chance"</p>
    </div>
  </div>

  <header>
    <div class="header-content">
      <div class="logo">
        <!-- Agora a logo √© um link que leva √† index.html -->
        <a href="index.html">
          <img src="images/logo.png" id="logo" alt="Logo">
        </a>
      </div>
      <div>
        <h1>Match Made in Heaven by Chance</h1>
      </div>
    </div>
  </header>

  <main>
    <h2>Selecione o Cap√≠tulo:</h2>
    <select id="chapter-select" class="select-chapter">
      <option value="">Selecione um cap√≠tulo</option>
      <option value="3">Cap√≠tulo 3</option>
      <option value="2">Cap√≠tulo 2</option>
      <option value="1">Cap√≠tulo 1</option>
    </select>

    <!-- Container para exibir as imagens dos cap√≠tulos -->
    <div id="chapter-images" class="chapter-images"></div>
  </main>

  <footer>
    <p>¬© 2025 - Feito com üíú pelo seu querido marido</p>
  </footer>

  <script>
    // Fun√ß√£o para atualizar as imagens do cap√≠tulo com base na sele√ß√£o
    document.getElementById("chapter-select").addEventListener("change", function() {
      const chapterImages = document.getElementById("chapter-images");
      chapterImages.innerHTML = ''; // Limpar imagens anteriores

      const chapter = this.value;
      // Salva o cap√≠tulo selecionado no localStorage
      localStorage.setItem('manhwa1-last-chapter', chapter);

      const imageCount = 20; // Total de imagens por cap√≠tulo
      const totalImagesForChapter = getTotalImagesForChapter(chapter); // Fun√ß√£o para obter o total de imagens do cap√≠tulo

      if (chapter) {
        // Adicionar as imagens correspondentes ao cap√≠tulo selecionado
        for (let i = 1; i <= totalImagesForChapter; i++) {
          chapterImages.innerHTML += `
            <img src="mmihbc/imagens/capitulos/capitulo${chapter}_${i}.jpg" alt="Cap√≠tulo ${chapter} - Imagem ${i}">
          `;
        }
      }
    });

    // Ao carregar a p√°gina, verifica se h√° cap√≠tulo salvo e seleciona automaticamente
    window.addEventListener('DOMContentLoaded', function() {
      const lastChapter = localStorage.getItem('manhwa1-last-chapter');
      const select = document.getElementById("chapter-select");
      if (lastChapter && select.querySelector(`option[value="${lastChapter}"]`)) {
        select.value = lastChapter;
        // Dispara o evento de mudan√ßa para carregar as imagens do cap√≠tulo salvo
        select.dispatchEvent(new Event('change'));
      }
    });

    // Fun√ß√£o que retorna o n√∫mero de imagens para o cap√≠tulo selecionado
    function getTotalImagesForChapter(chapter) {
      const chaptersWithImages = {
        1: 88,  // Cap√≠tulo 1 tem 80 imagens
        2: 19,  // Cap√≠tulo 2 tem 19 imagens
        3: 27,  // Cap√≠tulo 3 tem 27 imagens
        4: 18,  // Cap√≠tulo 4 tem 18 imagens
        5: 15,  // Cap√≠tulo 1 tem 15 imagens
      };

      // Se o cap√≠tulo n√£o estiver listado, retorna 0 imagens
      return chaptersWithImages[chapter] || 0;
    }

    // Mostrar o bot√£o "Voltar ao Topo" quando o usu√°rio rolar para baixo
    window.onscroll = function() {
      const button = document.getElementById("back-to-top");
      if (document.body.scrollTop > 200 || document.documentElement.scrollTop > 200) {
        button.style.display = "block"; // Mostrar o bot√£o
      } else {
        button.style.display = "none"; // Esconder o bot√£o
      }
    };

    // Fun√ß√£o para rolar at√© o topo quando o bot√£o for clicado
    document.getElementById("back-to-top").addEventListener("click", function() {
      document.body.scrollIntoView({ behavior: 'smooth', block: 'start' });
    });
  </script>

  <!-- Bot√£o de voltar ao topo com √≠cone de seta para cima -->
  <button id="back-to-top">
    <i class="fas fa-arrow-up"></i> <!-- √çcone de seta para cima -->
  </button>
</body>
</html>
